<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <!-- 文档标题-->
  <title>位运算</title>
  <meta name="keywords" content="">
  <meta name="description" content="">
  <!-- theme1用引号包着也能被正确替换 -->
  <link rel="stylesheet" href="../html-component/theme1.css">
</head>

<body>
  <style>
    body {
      padding: 0 10px;
    }
  </style>
  <!-- 插入主题样式 -->
  <!-- <style>
    theme1
  </style> -->
  <!-- 插入marked转换后的html -->
  <div class="markdown-body"><h1 id="位运算">位运算</h1>
<p>将一个整数的二进制格式进行运算</p>
<p>js中, 如果对一个数据进行位运算, 它首先会将其转换为一个整数, 并且按照32位的整数二进制排列</p>
<p>有小数的, 直接扔掉, 非四舍五入</p>
<p>负数的话, 二进制第一位是1, 第一位是符号位</p>
<p>举例</p>
<pre><code>2.8 -&gt; 2 -&gt; 0000 0000 0000 0000 0000 0000 0000 0010

NaN -&gt; 0

Infinity -&gt; 0

-Infinity -&gt; 0
</code></pre>
<h2 id="与运算-按位与运算">与运算 按位与运算</h2>
<p>符号: &amp;</p>
<p>写法: 整数1 &amp; 整数2</p>
<p>将两个整数每一位进行比较, 如果都为1, 结果为1, 否则结果为0</p>
<h2 id="或运算-按位或运算">或运算 按位或运算</h2>
<p>符号: |</p>
<p>写法: 整数1 | 整数2</p>
<p>将两个整数每一位进行比较, 如果都为0, 结果为0, 否则结果为1</p>
<h2 id="非运算-按位非运算">非运算 按位非运算</h2>
<p>符号: ~</p>
<p>写法: ~整数</p>
<p>将整数按位取反</p>
<h4 id="负数的存储方式">负数的存储方式</h4>
<p>-1</p>
<p>真码: 1000 0000 0000 0000 0000 0000 0000 0001
反码: 1111 1111 1111 1111 1111 1111 1111 1110 真码取反 符号位不变
补码: 1111 1111 1111 1111 1111 1111 1111 1111 反码加1</p>
<p>人阅读方便真码, 但是计算机不会这样存储, 补码才是负数的存储方案</p>
<p>所以, 负数二进制减1, 将0看作1, 1看作0</p>
<p>举例</p>
<pre><code>~1 // 1取反 按位取反(包括符号位)

1  -&gt; 0000 0000 0000 0000 0000 0000 0000 0001
~1 -&gt; 1111 1111 1111 1111 1111 1111 1111 1110 // 看起来像是负数的补码, 符号位是1, 当作补码。

// 补码转成反码, 减1

反码  1111 1111 1111 1111 1111 1111 1111 1101

// 反码转成真码, 符号位不变, 按位取反 // 将0看作1, 1看作0

真码  1000 0000 0000 0000 0000 0000 0000 0010 // 得出-2
</code></pre>
<h4 id="取反的快速运算--取反的数字-1">取反的快速运算: -取反的数字-1</h4>
<p>1 取反 -(1)-1得出-2
-10 取反 -(-10)-1得出9</p>
<h4 id="js中最快速的取整方式-数字">js中最快速的取整方式: <code>~~数字</code></h4>
<h2 id="异或运算-按位异或运算">异或运算 按位异或运算</h2>
<p>符号: ^</p>
<p>写法: 整数1 ^ 整数2</p>
<p>将整数1和整数2按位比较, 不同取1, 相同取0</p>
<h2 id="应用">应用</h2>
<p>位的叠加(开关), 也就是用位运算实现权限组合, 效率很高</p>
<h2 id="位移运算">位移运算</h2>
<h4 id="左位移">左位移: &lt;&lt;</h4>
<p>写法: 整数1 &lt;&lt; 整数2</p>
<p>结果: 整数1 * 2 ** 整数2</p>
<p>将整数1的二进制(除符号位之外)左移动整数2的次数, **是幂, 也就是次方</p>
<h4 id="右位移">右位移: &gt;&gt;</h4>
<p>写法: 整数1 &gt;&gt; 整数2</p>
<p>结果: 整数1 / 2 ** 整数2, 再取整数部分</p>
<p>将整数1的二进制(除符号位之外)右移动整数2的次数, **是幂, 也就是次方</p>
<p>右位移可能会丢失数据</p>
<h4 id="全右位移">全右位移: &gt;&gt;&gt;</h4>
<p>写法: 整数1 &gt;&gt;&gt; 整数2</p>
<p>与右位移的区别, 在于全右位移会导致符号位跟着位移</p>
</div>
</body>

</html>